<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <!-- Compiled and minified CSS -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
      <!-- Compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
      <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width, height=device-height">
      <link rel="stylesheet" type="text/css" href="css/style_profile_price.css" />


      <link rel="stylesheet" type="text/css" href="css/noUiSlider.min.css" />
      <script type="text/javascript" src="js/noUiSlider.min.js"></script>
      <script type="text/javascript" src="js/wNumb.js"></script>


      <!-- 아이콘 불러오기 -->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

      <script>
        $(function() {
          function onLoad() {
    		    document.addEventListener("deviceready", onDeviceReady, false);
      		}

          function onDeviceReady() {
            document.addEventListener("backbutton", onBackKeyDown, true);
            // createIframe(); //아이프레임으로 띄운 상태
          }

          function onBackKeyDown() {
            navigator.notification.confirm('앱을 종료하시겠습니까?', onBackKeyDownMsg, '메세지', '취소, 종료');
          }

          function onBackKeyDownMsg(button) {
            if(button == 2) {
              navigator.app.exitApp();
            }
          }
        });
      </script>

      <title>platfrom_test</title>

      <!-- <script>
      $(function() {
        $('#main_wrap').load("show_goods.html");
      });
      </script> -->
  </head>
  <body>
    <header>
      <div id="header_wrapper" class="light-blue darken-4">
        <div id="back_btn_wrapper">
          <i id="back_btn" class="material-icons">chevron_left</i>
        </div>
        <div class="page_title_wrapper">
          <span class="page_title"> 스타일프로필 </span>
        </div>
      </div>
      <div id="progressbar_wrapper">
        <div id="progressbar">
          <div id="progress_size">
          </div>
        </div>
        <div class="row white">
          <div class="col percent_20"> SIZE </div>
          <div class="col percent_20"> FIT/CUT </div>
          <div class="col percent_20"> STYLE </div>
          <div class="col percent_20"><b> PRICE </b></div>
          <div class="col percent_20"> ABOUT YOU </div>
        </div>
      </div>
    </header>

    <div class="comment">
      <span> 당신에게 어느 정도의 구성품이 갈지 스타일리스트들이 생각합니다. </span>
    </div>
    <div class="question">
      <span id="question_content"> 한 달 동안 또는 한번에? <br> 대략적으로 스타일에 얼마나 투자하시나요? </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-investment-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-investment-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="investment"></div>
    </div>
    <div class="question">
      <span id="question_content"> 상의 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-top-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-top-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="top"></div>
    </div>
    <div class="question">
      <span id="question_content"> 하의 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-bottom-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-bottom-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="bottom"></div>
    </div>
    <div class="question">
      <span id="question_content"> 코트 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-coat-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-coat-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="coat"></div>
    </div>
    <div class="question">
      <span id="question_content"> 자켓 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-jacket-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-jacket-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="jacket"></div>
    </div>
    <div class="question">
      <span id="question_content"> 원피스 / 세트 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-set-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-set-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="set"></div>
    </div>
    <div class="question">
      <span id="question_content"> 신발 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-shoes-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-shoes-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="shoes"></div>
    </div>
    <div class="question">
      <span id="question_content"> 가방 / 백 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-bag-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-bag-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="bag"></div>
    </div>
    <div class="question">
      <span id="question_content"> 악세사리 </span>
    </div>
    <div class="range_container">
      <div class="price_range_output">
        <span id="price-selected-acc-1" class="price_selected">1222</span>
        <span> ~ </span>
        <span id="price-selected-acc-2" class="price_selected">1322</span>
      </div>
      <div id="price_range" class="price_range" name="acc"></div>
    </div>

    <footer>
      <div class="footer_wrapper">
        <a id="next_btn" class="waves-effect waves-light btn btn_long">다음</a>
      </div>
    </footer>

    <script>

      $(function() {
        // '뒤로가기' 버튼 클릭
        $('#back_btn').on('click', function() {
          location.href="style_profile_style_5.html";
        });

        // '다음' 버튼 클릭
        $('#next_btn').on('click', function() {
          location.href="style_profile_about_1.html";
        });

        $('.question_detail_content').on('click', function() {
          $(this).css('background-color', function(index, value) {
            if(value == "rgb(255, 255, 255)") {
              return $(this).css('background-color', '#c51162');
            } else {
              return $(this).css('background-color', '#ffffff');
            }
          });
        });


        // use noslider
        // var range = document.getElementById('price_range');
        //
        // noUiSlider.create(range, {
        //   start: [1000, 4000],
        //   connect: true,
        //   behaviour: 'tap-drag',
        //   orientation: 'horizontal',
        //   step: 1000,
        //   range: {
        //     'min' : 0,
        //     'max' : 10000
        //   },
        //   pips: {
        //     mode: 'steps',
        //     stepped: true,
        //     density: 4
        //   },
        //   format: wNumb({
        //     decimal: 3,
        //     thousand: ',',
        //   })
        // });
        //
        // var values_range = [
        //   document.getElementById('price-selected-investment-1'),
        //   document.getElementById('price-selected-investment-2')
        // ];
        //
        // range.noUiSlider.on('update', function( values, handle ) {
        // 	values_range[handle].innerHTML = values[handle] + " 원";
        // });

        var range = document.getElementsByClassName('price_range');

        $(range).each(function(index, value) {
          // alert($(range[index]).attr('name'));
          noUiSlider.create(range[index], {
            start: [1000, 4000],
            connect: true,
            behaviour: 'tap-drag',
            orientation: 'horizontal',
            step: 1000,
            range: {
              'min' : 0,
              'max' : 10000
            },
            pips: {
              mode: 'steps',
              stepped: true,
              density: 4
            },
            format: wNumb({
              decimal: 3,
              thousand: ',',
            })
          });
        });


        var values_range = [
          document.getElementById('price-selected-investment-1'),
          document.getElementById('price-selected-investment-2'),
          document.getElementById('price-selected-top-1'),
          document.getElementById('price-selected-top-2'),
          document.getElementById('price-selected-bottom-1'),
          document.getElementById('price-selected-bottom-2'),
          document.getElementById('price-selected-coat-1'),
          document.getElementById('price-selected-coat-2'),
          document.getElementById('price-selected-jacket-1'),
          document.getElementById('price-selected-jacket-2'),
          document.getElementById('price-selected-set-1'),
          document.getElementById('price-selected-set-2'),
          document.getElementById('price-selected-shoes-1'),
          document.getElementById('price-selected-shoes-2'),
          document.getElementById('price-selected-bag-1'),
          document.getElementById('price-selected-bag-2'),
          document.getElementById('price-selected-acc-1'),
          document.getElementById('price-selected-acc-2')
        ];

        $(range).each(function(index, value) {
          range[index].noUiSlider.on('update', function( values, handle ) {
          	if($(value).attr('name') == "investment") {
              values_range[handle].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "top") {
              values_range[handle+2].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "bottom") {
              values_range[handle+4].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "coat") {
              values_range[handle+6].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "jacket") {
              values_range[handle+8].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "set") {
              values_range[handle+10].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "shoes") {
              values_range[handle+12].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "bag") {
              values_range[handle+14].innerHTML = values[handle] + " 원";
            } else if ($(value).attr('name') == "acc") {
              values_range[handle+16].innerHTML = values[handle] + " 원";
            }
          });
        });

      });
    </script>
  </body>
</html>
